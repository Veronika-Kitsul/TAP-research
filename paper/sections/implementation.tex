\section{Implementation}
\label{sec:implementation}

\subsection{Used tools}

We implement a prototype of \sys in Rust. Chen et al. \cite{DBLP:conf/sp/ChenCWSCF21} in their work use Python, however, we provide some reasons why we think Rust is better here: 
\begin{itemize}
	\item very fast and memory efficient (about on the same speed level as C);
	\item powerful features for combining many functions and libraries;
	\item extensive support system and vast amount of available crates;
	\item ensures high safety, the compiler pings every possible bug (prevention of references to freed memory, concurrent memory access, etc.);
	\item gives the ability to claim ownership of specific pieces of data, nothing else will be able to modify it;
	\item efficient succinct code;
	\item number one choice among many computer science researchers.
\end{itemize}

\subsection{System components}
\paragraph{Trigger service code.}
Trigger service listens to the connections from TAP on the loop. When it receives the connection, it
processes the information to send, encrypts it, and writes it to the stream.

\paragraph{TAP code.}
TAP serves essentially as a channel for sending encrypted data from the trigger service to action service. 
TAP initiates the connection with the trigger, and upon receiving the requested data, sends it directly to
the action service. With such communication scheme, TAP learns virtually nothing about the data it is
getting, while trigger and action services do not communicate directly and do not know about each other.


\paragraph{Action service code.}
Action service has all features of a server, as it listens to the incoming connections from TAP on the loop,
decrypts the received data, and then implements the action it is asked to do.
